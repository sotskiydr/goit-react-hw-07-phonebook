(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={list:"ContactList_list__3wSXY",item:"ContactList_item__3lf8n",btn:"ContactList_btn__LjK5L",span:"ContactList_span__2n2ga"}},17:function(t,e,n){t.exports={label:"Filter_label__2pNgv",input:"Filter_input__YmgBH"}},60:function(t,e,n){},62:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"filterContacts",(function(){return j}));var a={};n.r(a),n.d(a,"getContacts",(function(){return m}));var c={};n.r(c),n.d(c,"fetchContacts",(function(){return A})),n.d(c,"addContact",(function(){return T})),n.d(c,"deleteContact",(function(){return z}));var u=n(0),s=n.n(u),i=n(15),o=n.n(i),l=n(6),b=n(5),f=n(2),p=n(30),d=n(7),j=Object(b.b)("filter"),m=function(t){return t.contacts.entities},O=n(4),h=n.n(O),v=n(8),x=n(11),C=n.n(x);function _(){return y.apply(this,arguments)}function y(){return(y=Object(v.a)(h.a.mark((function t(){var e,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("/contacts/contacts");case 2:return e=t.sent,n=e.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return w.apply(this,arguments)}function w(){return(w=Object(v.a)(h.a.mark((function t(e){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.post("/contacts/contacts",e);case 2:return n=t.sent,r=n.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(h.a.mark((function t(e){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.delete("/contacts/contacts/".concat(e));case 2:return n=t.sent,r=n.data.id,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}C.a.defaults.baseURL="https://61efe336732d93001778e67c.mockapi.io";var L,F,S,A=Object(b.c)("fetchContactsSuccess",function(){var t=Object(v.a)(h.a.mark((function t(e,n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,_();case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),T=Object(b.c)("contacts/addContact",function(){var t=Object(v.a)(h.a.mark((function t(e,n){var r,a,c,u,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.name,a=e.number,c=n.rejectWithValue,t.prev=2,u={name:r,phone:a},t.next=6,g(u);case 6:return s=t.sent,t.abrupt("return",s);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",c(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),z=Object(b.c)("contacts/deleteContact",function(){var t=Object(v.a)(h.a.mark((function t(e,n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,N(e);case 4:return a=t.sent,t.abrupt("return",a);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),V=Object(b.d)([],(L={},Object(f.a)(L,A.fulfilled,(function(t,e){return e.payload})),Object(f.a)(L,T.fulfilled,(function(t,e){var n=e.payload;return[].concat(Object(p.a)(t),[n])})),Object(f.a)(L,z.fulfilled,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),L)),B=Object(b.d)(!1,(F={},Object(f.a)(F,A.pending,(function(){return!0})),Object(f.a)(F,A.fulfilled,(function(){return!1})),Object(f.a)(F,A.rejected,(function(){return!1})),Object(f.a)(F,T.pending,(function(){return!0})),Object(f.a)(F,T.fulfilled,(function(){return!1})),Object(f.a)(F,T.rejected,(function(){return!1})),Object(f.a)(F,z.pending,(function(){return!0})),Object(f.a)(F,z.fulfilled,(function(){return!1})),Object(f.a)(F,z.rejected,(function(){return!1})),F)),H=Object(b.d)(null,(S={},Object(f.a)(S,A.rejected,(function(t,e){return e.payload})),Object(f.a)(S,A.pending,(function(){return null})),Object(f.a)(S,T.rejected,(function(t,e){return e.payload})),Object(f.a)(S,T.fulfilled,(function(){return null})),Object(f.a)(S,z.rejected,(function(t,e){return e.payload})),Object(f.a)(S,z.fulfilled,(function(){return null})),S)),J=Object(b.d)("",Object(f.a)({},r.filterContacts,(function(t,e){return e.payload}))),M=Object(d.b)({entities:V,isLoading:B,error:H,filter:J}),W=Object(b.a)({reducer:{contacts:M}}),Z=(n(60),n(20)),q=n(9),D=n.n(q),E=n(1),K=function(t){var e=t.onSubmit,n=Object(u.useState)(""),r=Object(Z.a)(n,2),a=r[0],c=r[1],s=Object(u.useState)(""),i=Object(Z.a)(s,2),o=i[0],l=i[1],b=function(t){"name"===t.currentTarget.name&&c(t.currentTarget.value),"number"===t.currentTarget.name&&l(t.currentTarget.value)};return Object(E.jsxs)("form",{className:D.a["contact-form"],onSubmit:function(t){t.preventDefault(),e({name:a,number:o}),c(""),l("")},children:[Object(E.jsxs)("label",{className:D.a.label,children:["Name",Object(E.jsx)("input",{className:D.a.input,type:"text",name:"name",placeholder:"Liubov Murarova",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:a,onChange:b})]}),Object(E.jsxs)("label",{className:D.a.label,children:["Number",Object(E.jsx)("input",{className:D.a.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"099-999-99-99",required:!0,value:o,onChange:b})]}),Object(E.jsx)("button",{className:D.a.submit,type:"submit",children:"Add contact"})]})},P=n(17),Y=n.n(P),I=function(){var t=Object(l.c)((function(t){return t.contacts.filter})),e=Object(l.b)();return Object(E.jsx)("div",{className:Y.a.filter,children:Object(E.jsxs)("label",{className:Y.a.label,children:["Find contacts by name",Object(E.jsx)("input",{className:Y.a.input,type:"text",value:t,onChange:function(t){e(r.filterContacts(t.target.value))}})]})})},R=n(12),U=n.n(R),X=function(){var t=Object(l.b)(),e=Object(l.c)(a.getContacts);Object(u.useEffect)((function(){return t(c.fetchContacts())}),[t]);var n=Object(l.c)((function(t){var n=t.contacts.filter.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))}));return Object(E.jsx)("ul",{className:U.a.list,children:n.map((function(e){return Object(E.jsxs)("li",{className:U.a.item,children:[Object(E.jsxs)("span",{className:U.a.span,children:[e.name,": ",e.phone]}),Object(E.jsx)("button",{className:U.a.btn,type:"button",id:e.id,onClick:function(){t(c.deleteContact(e.id))},children:"Delete"})]},e.id)}))})};n(62);function $(){var t=Object(l.b)();return Object(E.jsxs)("main",{className:"main",children:[Object(E.jsx)("h1",{className:"title",children:"Phonebook"}),Object(E.jsx)(K,{onSubmit:function(e,n){return t(c.addContact(e,n))}}),Object(E.jsx)("h2",{className:"title",children:"Contacts"}),Object(E.jsx)(I,{}),Object(E.jsx)(X,{})]})}o.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(l.a,{store:W,children:Object(E.jsx)($,{})})}),document.getElementById("root"))},9:function(t,e,n){t.exports={"contact-form":"ContactForm_contact-form__2H_yu",label:"ContactForm_label__3KgVy",input:"ContactForm_input__3emgF",submit:"ContactForm_submit__2xTHf"}}},[[63,1,2]]]);
//# sourceMappingURL=main.4837c74e.chunk.js.map